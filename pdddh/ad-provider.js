(function(exoDynamicParams){var adProviderQ=(window.AdProvider===null)?[]:window.AdProvider;window.AdProvider=(function(){var createRendererFunction=true;var keepHttpResponseAsIs=true;var renderers=[];var currentRequest=0;var placementsBatchesRequests=[];var placementsBatchesResponses=[];var insElementAdByClass='adsby'+exoDynamicParams.network;var stylesheet='{ vertical-align:top; border: 0px solid #000000; display: inline-block; background-color: rgba(0, 0, 0, 0); margin: 0px 0px; padding: 0px 0px; }';var printDebugOnAdd=true;var debugMsgStack=[];var debug=function(msg){var finalMsg=(new Date()).toISOString()+': '+msg;if(printDebugOnAdd){console.log(finalMsg)}debugMsgStack.push(finalMsg)};var getDebugMessages=function(){return debugMsgStack};var URLToArray=function(url){var request={};var pairs=url.substring(url.indexOf('?')+1).split('&');for(var i=0;i<pairs.length;i++){if(!pairs[i])continue;var pair=pairs[i].split('=');request[decodeURIComponent(pair[0])]=decodeURIComponent(pair[1])}return request};var randStr=function(length,possibleChars){var text='';var possible=possibleChars||'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';for(var i=0;i<length;i++)text+=possible.charAt(Math.floor(Math.random()*possible.length));return text};var createStyle=function(doc,dom_anchor,style_text){var class_name=randStr(1,'abcdefghijklmnopqrstuvwxyz')+randStr(7);style_text='.'+class_name+' '+style_text;var style=doc.createElement('style');style.setAttribute('type','text/css');style.innerHTML=style_text;if(dom_anchor.tagName!=='SCRIPT'||dom_anchor.tagName!=='script'){dom_anchor.appendChild(style)}else{dom_anchor.parentNode.insertBefore(style,dom_anchor)}return class_name};var handleSnippetQueue=function(adProviderQueue){if(!Array.isArray(adProviderQueue)){return}while(adProviderQueue.length>0){push(adProviderQueue.shift())}};var handleInsElements=function(){var nodeList=document.querySelectorAll('ins.'+insElementAdByClass+':not([data-processed=true])');for(var i=0;i<nodeList.length;i++){handleInsElement(nodeList[i])}};var handleInsElement=function(element){var zoneAttributesMap={'data-zoneid':{'apiKey':'id','toApiParser':parseInt},'data-sub':{'apiKey':'sub','toApiParser':parseInt},'data-sub2':{'apiKey':'sub2','toApiParser':parseInt},'data-sub3':{'apiKey':'sub3','toApiParser':parseInt},'data-keywords':{'apiKey':'keywords'}};var zone={};for(var key in zoneAttributesMap){if(element.hasAttribute(key)){var mapToApi=zoneAttributesMap[key];var value=element.getAttribute(key);if(mapToApi.hasOwnProperty('toApiParser')&&typeof mapToApi.toApiParser==='function'){value=mapToApi.toApiParser(value)}zone[mapToApi.apiKey]=value}}var placeholder=document.createElement('div');element.parentElement.insertBefore(placeholder,element);var placement={'zone':zone,'where':placeholder};addPlacement(placement);element.setAttribute('data-processed',true)};var push=function(action){var actionKey=Object.keys(action)[0];var data=action[actionKey];if(actionKey==='addUnit'){addPlacement(data)}else if(actionKey==='serve'){serve(currentRequest,data)}else{debug('Action not recognized by AdProvider: '+actionKey)}};var addPlacement=function(data){if(typeof data.where==='undefined'||data.where===null){debug('The property \'where\' is required on the addUnit. '+JSON.stringify(data));return}var zones=null;if(data.hasOwnProperty('zone')){zones=[data.zone]}else if(data.hasOwnProperty('multiZone')){zones=data.multiZone.zones}else{debug('The type of unit wasn\'t recognized: '+JSON.stringify(data));return}var placement={'zones':zones,'here':data.where};if(!Array.isArray(placementsBatchesRequests[currentRequest])){placementsBatchesRequests[currentRequest]=[]}if(!placement.hasOwnProperty('here')||!placement.here){var scripts=document.getElementsByTagName('script');placement['here']=scripts[scripts.length-1]}var newPlacementPosition=placementsBatchesRequests[currentRequest].length;debug('Request #'+currentRequest+' Placement #'+newPlacementPosition+' was pushed with data '+JSON.stringify(data));var class_name=createStyle(document,placement['here'],stylesheet);var placeholder=document.createElement('div');placeholder.setAttribute('class',class_name);placement['here'].appendChild(placeholder);placement['placeholder']=placeholder;if(validatePlacement(placement)){placementsBatchesRequests[currentRequest].push(placement)}};var validatePlacement=function(placement){var placementPosition=placementsBatchesRequests[currentRequest].length;for(var placementIndex=0;placementIndex<placement.zones.length;placementIndex++){var zone=placement.zones[placementIndex];if(zone.hasOwnProperty('group')){for(var groupIndex=0;groupIndex<zone.group.length;groupIndex++){if(!validatePlacementZone(zone.group[groupIndex],placementPosition,placementIndex,groupIndex)){return false}}}else{if(!validatePlacementZone(zone,placementPosition,placementIndex)){return false}}debug('Request #'+currentRequest+' Placement #'+placementPosition+' was pushed with'+' properties '+JSON.stringify(zone))}return true};var validatePlacementZone=function(placementZone,placementPosition,placementIndex,groupPosition){if(!placementZone.hasOwnProperty('id')){var debugMsg='Request #'+currentRequest+' Placement #'+placementPosition;if(typeof groupPosition!=='undefined'){debugMsg+=' Group #'+groupPosition}debugMsg+=' Zone #'+placementIndex+' does not have required property \'id\'. It was pushed with '+'properties '+JSON.stringify(placementZone);debug(debugMsg);return false}return true};var serve=function(requestNum,data){handleInsElements();if(!placementsBatchesRequests.hasOwnProperty(requestNum)||placementsBatchesRequests[requestNum].length===0){debug('Request #'+requestNum+' has no placements to serve.');return}debug('Request #'+requestNum+' is being served.');var placements=[];for(var placement in placementsBatchesRequests[requestNum]){placements.push(placementsBatchesRequests[requestNum][placement].zones)}var body={'user':{'ua':navigator.userAgent,'language':navigator.language,'referer':window.location.href,'consumer':'ad-provider'},'zones':placements};var optionalUserParams=['uses_imptracker_urls','cookieconsent','el'];for(var optionalUserParamsIndex=0;optionalUserParamsIndex<optionalUserParams.length;optionalUserParamsIndex++){var param=optionalUserParams[optionalUserParamsIndex];if(data.hasOwnProperty(param)){body.user[param]=data[param]}}var xmlhttp=new XMLHttpRequest();xmlhttp.onreadystatechange=function(){if(xmlhttp.readyState===XMLHttpRequest.DONE){if(xmlhttp.status===200){handleResponse(xmlhttp.responseText,requestNum)}}};xmlhttp.open('POST','https://'+exoDynamicParams.syndication+'/v1/api.php');xmlhttp.withCredentials=true;xmlhttp.setRequestHeader('Content-Type','text/plain');try{xmlhttp.send(JSON.stringify(body))}catch(error){debug('error')}currentRequest++};var handleResponse=function(response,currentRequestHandling){debug('Request #'+currentRequestHandling+' handling the response');var decodedResponse=JSON.parse(response);var errors=typeof decodedResponse.errors!=='undefined'?decodedResponse.errors:[];if(!Array.isArray(placementsBatchesResponses[currentRequestHandling])){placementsBatchesResponses[currentRequestHandling]=[]}if(typeof decodedResponse.zones==='undefined'){debug('Request #'+currentRequestHandling+' had these '+'errors on API request:'+JSON.stringify(errors));return}for(var placementIndex=0;placementIndex<decodedResponse.zones.length;placementIndex++){var placement=decodedResponse.zones[placementIndex];if(placement==null){if(typeof errors[placementIndex]!=='undefined'){debug('Request #'+currentRequestHandling+' Placement #'+placementIndex+' had these '+'errors on API request:'+JSON.stringify(errors[placementIndex]))}placementsBatchesResponses[currentRequestHandling][placementIndex]=null;continue}if(placement.hasOwnProperty('group')){for(var groupIndex=0;groupIndex<placement.group.ad_items.length;groupIndex++){if(!validateResponsePlacementZone(placement.group.ad_items[groupIndex],currentRequestHandling,errors,placementIndex,groupIndex)){placementsBatchesResponses[currentRequestHandling][placementIndex]=null;innerError=true;break}}}else{if(!validateResponsePlacementZone(placement,currentRequestHandling,errors,placementIndex)){placementsBatchesResponses[currentRequestHandling][placementIndex]=null;continue}}placementsBatchesResponses[currentRequestHandling][placementIndex]=placement}for(var renderer in renderers){if(renderers.hasOwnProperty(renderer)&&typeof renderers[renderer]==='function'){renderers[renderer](currentRequestHandling)}}};var validateResponsePlacementZone=function(placementZoneResponse,currentRequestHandling,errors,placementIndex,groupIndex){if(placementZoneResponse==null){if(typeof groupIndex!=='undefined'&&typeof errors[placementIndex][groupIndex]!=='undefined'){debug('Request #'+currentRequestHandling+' Placement #'+placementIndex+' Group #'+groupIndex+' had these errors on API request:'+JSON.stringify(errors[placementIndex][groupIndex]));return false}if(typeof errors[placementIndex]!=='undefined'){debug('Request #'+currentRequestHandling+' Placement #'+placementIndex+' had these '+'errors on API request:'+JSON.stringify(errors[placementIndex]));return false}}if(placementZoneResponse.data===null){var debugMsg='Request #'+currentRequestHandling+' Placement #'+placementIndex;if(typeof groupIndex!=='undefined'){debugMsg+=' Group #'+groupIndex}debugMsg+=' has no ads to display';debug(debugMsg);placementsBatchesResponses[currentRequestHandling][placementIndex]=null;return false}return true};var getAdData=function(requestId,adFormat){var adData={'zones':[]};for(var responsePosition in placementsBatchesResponses[requestId]){var response=placementsBatchesResponses[requestId][responsePosition];if(response===null){continue}if(typeof response.group!=='undefined'){for(var i=0;i<response.group.ad_items.length;i++){var innerResponse=response.group.ad_items[i];if(innerResponse.type===adFormat){performImpressionTrackings(innerResponse,adFormat);var groupMainPlaceholder=placementsBatchesRequests[requestId][responsePosition].placeholder;setContainerSize(response,groupMainPlaceholder);var groupMainPlaceholderChildren=groupMainPlaceholder.querySelectorAll('div');var zoneObj=getRendererZoneObject(innerResponse.idzone,groupMainPlaceholderChildren[i],document,innerResponse.data);adData.zones.push(zoneObj)}}}else if(response.type===adFormat){performImpressionTrackings(response,adFormat);var placeholder=placementsBatchesRequests[requestId][responsePosition].placeholder;setContainerSize(response,placeholder);var zoneObj=getRendererZoneObject(response.idzone,placeholder,document,response.data);adData.zones.push(zoneObj)}}return adData};var setContainerSize=function(responsePlacement,placeholder){if(typeof responsePlacement.container_size==='undefined'){return}var containerSize=responsePlacement.container_size;if(typeof containerSize.width!=='undefined'){var width=containerSize.width+'px';placeholder.parentElement.style.width=width;placeholder.parentElement.style.overflow='hidden'}if(typeof containerSize.height!=='undefined'){var height=containerSize.height+'px';placeholder.parentElement.style.height=height;placeholder.parentElement.style.overflow='hidden'}};var getRendererZoneObject=function(idzone,placeholder,documentReference,data){return{'idzone':idzone,'dom':{'placeholder':placeholder,'doc_reference':documentReference},'data':data}};var getGroupsData=function(requestId){var adData=[];for(var responsePosition in placementsBatchesResponses[requestId]){var response=placementsBatchesResponses[requestId][responsePosition];if(response===null){continue}if(typeof response.group!=='undefined'){var placementRequestItem=placementsBatchesRequests[requestId][responsePosition];adData.push({'dom':{'placeholder':placementRequestItem.placeholder,'doc_reference':document},'orientation':response.group.orientation,'data':response.group.ad_items})}}return adData};var performImpressionTrackings=function(singlePlacementResponse){if(singlePlacementResponse.data===null){return}var adsData=singlePlacementResponse.data;if(adsData.hasOwnProperty('ad_items')&&Array.isArray(adsData.ad_items)){var adItems=adsData.ad_items;for(var i in adItems){if(!adItems.hasOwnProperty(i)){continue}if(adItems[i].hasOwnProperty('impression')){trackImpression(adItems[i].impression,singlePlacementResponse.idzone,i)}}}else{if(adsData.hasOwnProperty('impression')){trackImpression(adsData.impression,singlePlacementResponse.idzone)}}};var trackImpression=function(impressionUrl,idzone,position){var debugErrorTracking=function(idzone,position){var debugMsg='Error tracking the impression from zone '+idzone;if(typeof position!=='undefined'){debugMsg+=' ad #'+position}debug(debugMsg)};var xmlhttp=new XMLHttpRequest();xmlhttp.onreadystatechange=function(){if(xmlhttp.readyState===XMLHttpRequest.DONE){if(xmlhttp.status!=200){debugErrorTracking(idzone,position)}}};xmlhttp.open('GET',impressionUrl);try{xmlhttp.send()}catch(error){debugErrorTracking(idzone,position)}};var formatImage=function(exoNbRequestId,imageUrl){return imageUrl};var formatLink=function(exoNbRequestId,clickUrl){return clickUrl};var openLink=function(event,dest,force_method,addClickPosition){if(typeof force_method!=='undefined'&&force_method!=='get'&&force_method!=='post'){debug('openLink() trying to force invalid method')}if(typeof(event)!=='undefined'){event.returnValue=false;if(event.preventDefault){event.preventDefault()}event.stopPropagation()}if(addClickPosition){dest+='&clickX='+event.clientX;dest+='&clickY='+event.clientY}var url_parts;var parameters;var method=(force_method)?force_method:'get';if(dest.indexOf('?')!==-1){url_parts=dest.split('?',2);parameters=URLToArray(url_parts[1])}else{url_parts=[dest];parameters=[]}var f=document.createElement('form');f.setAttribute('action',url_parts[0]);f.setAttribute('method',method);f.setAttribute('target','_blank');document.getElementsByTagName('body').item(0).appendChild(f);for(var i in parameters){if(!parameters.hasOwnProperty(i)){continue}var input=document.createElement('input');input.setAttribute('type','hidden');input.setAttribute('name',i);input.setAttribute('value',parameters[i]);f.appendChild(input)}f.submit();document.getElementsByTagName('body').item(0).removeChild(f);return false};var getRandomizedReference=function(name,reference_map){if(typeof name!=='string'||name===''){debug("getRandomizedReference() invalid name, non-empty string expected");return false}if(typeof reference_map!=='object'){debug("getRandomizedReference() invalid reference_map, object expected");return false}if(typeof reference_map[name]==='undefined'){reference_map[name]=name}return reference_map[name]};var scrambleStyleString=function(style_str,reference_map,style_regexp){if(typeof style_str!=='string'||style_str===''){debug("scrambleStyleString() invalid style_str, non-empty string expected");return false}if(typeof reference_map!=='object'){debug("getRandomizedReference() invalid reference_map, object expected");return false}return style_str};return{"handleSnippetQueue":handleSnippetQueue,"push":push,"serve":serve,"getDebugMessages":getDebugMessages,"getAdData":getAdData,"getGroupsData":getGroupsData,"formatImage":formatImage,"formatLink":formatLink,"openLink":openLink,"getRandomizedReference":getRandomizedReference,"scrambleStyleString":scrambleStyleString,"createRendererFunction":createRendererFunction,"keepHttpResponseAsIs":keepHttpResponseAsIs,"renderers":renderers}})();AdProvider.handleSnippetQueue(adProviderQ);ExoLoader=AdProvider;(function(){try{var AdLoader=AdProvider;AdLoader.renderers['group']=function(exoNbRequestId){if(typeof AdLoader!=='undefined'&&AdLoader!==null){var groupsData=AdLoader.getGroupsData(exoNbRequestId,'group');for(var i=0;i<groupsData.length;i++){var group=groupsData[i];group.dom.placeholder.innerHTML='';generateGroup(group.dom,group.data,group.orientation)}}}}catch(err){console.log('banner renderer failed with error: '+err.message)}function generateGroup(dom,data,orientation){var flexDirection=orientation==='vertical'?'column':'row';var group=dom.placeholder;group.style.display='inline-flex';group.style.flexDirection=flexDirection;for(var i=0;i<data.length;i++){var item=dom["doc_reference"].createElement('div');group.appendChild(item)}}}());(function(){try{var AdLoader=ExoLoader;var render=function(exoNbRequestId){if(typeof AdLoader!=='undefined'&&AdLoader!==null){var zonesData=AdLoader.getAdData(exoNbRequestId,'banner');for(var i=0;i<zonesData.zones.length;i++){var ad=zonesData.zones[i];ad.data.image=AdLoader.formatImage(exoNbRequestId,ad.data.image);ad.data.url=AdLoader.formatLink(exoNbRequestId,ad.data.url);ad.dom.placeholder.innerHTML='';generateBannerHtml(ad.dom,ad.data)}}};if(typeof AdLoader.createRendererFunction==='undefined'||AdLoader.createRendererFunction===false){render(exoNbRequestId)}else{AdLoader.renderers['banner']=render}}catch(err){console.log('banner renderer failed with error: '+err.message)}function generateBannerHtml(dom,adData){var addDimensions=function(adData,domElement){if(typeof adData.width!=='undefined'){domElement.setAttribute('width',adData.width+"px")}if(typeof adData.height!=='undefined'){domElement.setAttribute('height',adData.height+"px")}};var renderBannerImage=function(dom,adData){var imageNew=dom["doc_reference"].createElement('img');addDimensions(adData,imageNew);imageNew.src=adData.image;dom.placeholder.innerHTML='';dom.placeholder.appendChild(imageNew);dom.placeholder.style.removeProperty('display')};var renderBannerHtml=function(dom,adData){var htmlNew=dom["doc_reference"].createElement('iframe');addDimensions(adData,htmlNew);htmlNew.setAttribute('sandbox','allow-forms allow-pointer-lock allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts');htmlNew.setAttribute('frameborder','0');htmlNew.setAttribute('scrolling','no');htmlNew.setAttribute('marginwidth','0');htmlNew.setAttribute('marginheight','0');dom.placeholder.appendChild(htmlNew);var doc=htmlNew.contentWindow.document;doc.open();doc.write("<body style=\"margin:0px;\">"+adData.html+"</body>");doc.close();dom.placeholder.style.removeProperty('display')};var renderBannerVideo=function(dom,adData){var videoEl=dom['doc_reference'].createElement('video');addDimensions(adData,videoEl);videoEl.setAttribute('loop',true);videoEl.setAttribute('muted',true);videoEl.muted=true;videoEl.setAttribute('autoplay',true);videoEl.setAttribute('playsinline',true);videoEl.setAttribute('preload','auto');var videoSourceEl=dom['doc_reference'].createElement('source');if(adData.optimum_image){videoSourceEl.setAttribute('src',adData.optimum_image)}else{videoSourceEl.setAttribute('src',adData.video)}videoEl.appendChild(videoSourceEl);dom.placeholder.appendChild(videoEl);dom.placeholder.style.removeProperty('display')};var addOnclickEvent=function(dom,url,addClickPosition){dom.placeholder.onclick=(function(dest){return function(event){AdLoader.openLink(event,dest,undefined,addClickPosition)}})(url)};if(typeof adData.height!=='undefined'){dom.placeholder.style.height=adData.height+"px"}if(typeof adData.width!=='undefined'){dom.placeholder.style.width=adData.width+"px"}dom.placeholder.style.cursor='pointer';if(!adData.media||adData.media==='img_banner'){if(adData.optimum_image){renderBannerVideo(dom,adData)}else{renderBannerImage(dom,adData)}addOnclickEvent(dom,adData.url)}else if(adData.media==='html_banner'){renderBannerHtml(dom,adData)}else if(adData.media==='video_banner'){renderBannerVideo(dom,adData);addOnclickEvent(dom,adData.url,true)}else{return}}}());(function(){try{var idzone=null;var widgetId;var randomizedRefMap={};var pattern=/\.(exo-native[a-zA-Z\-_]+)/g;var AdLoader=ExoLoader;var render=function(exoNbRequestId){var layoutImageFields=['branding_logo','branding_logo_hover'];if(typeof AdLoader!=='undefined'&&AdLoader!==null){var zonesData=AdLoader.getAdData(exoNbRequestId,"native_ad");for(var i=0;i<zonesData.zones.length;i++){var ad=zonesData.zones[i];if(!AdLoader.keepHttpResponseAsIs){ad.data.ad_items=ad.data.data;delete ad.data.data}idzone=ad.idzone;var domPlaceholder=ad.dom.placeholder;for(var layoutI=0;layoutI<layoutImageFields.length;layoutI++){var layoutField=layoutImageFields[layoutI];if(typeof ad.data.layout[layoutField]!=='undefined'&&ad.data.layout[layoutField]!==''){ad.data.layout[layoutField]=AdLoader.formatImage(exoNbRequestId,ad.data.layout[layoutField])}}for(var adI=0;adI<ad.data.ad_items.length;adI++){ad.data.ad_items[adI].image=AdLoader.formatImage(exoNbRequestId,ad.data.ad_items[adI].image);ad.data.ad_items[adI].url=AdLoader.formatLink(exoNbRequestId,ad.data.ad_items[adI].url)}widgetId='exoNativeWidget_'+idzone+"_"+randStr(5);domPlaceholder.parentNode.insertBefore(generateWidgetHtml(ad.data),domPlaceholder)}}};if(typeof AdLoader.createRendererFunction==='undefined'||AdLoader.createRendererFunction===false){render(exoNbRequestId)}else{AdLoader.renderers['native']=render}}catch(err){console.log('native renderer failed with error: '+err.message)}function ExoMath(v){this.float=function(v){v=typeof v==='boolean'?+v:v;return isNaN(parseFloat(v))?0:parseFloat(v)};this.sum=function(v){this.set(this.v+this.float(v));return this};this.sub=function(v){this.set(this.v-this.float(v));return this};this.mult=function(v){this.set(this.v*this.float(v));return this};this.div=function(v){this.set(this.v/this.float(v));return this};this.concat=function(s){if(this.s.indexOf(s)<0){this.set(this.s+s.toString())}return this};this.px=function(){return this.concat('px').s};this.perc=function(){return this.concat('%').s};this.get=function(){return this.v};this.string=function(){return this.s};this.set=function(v){v=v||0;this.v=this.float(v);this.s=v.toString()};this.set(v)}function parse(v){return new ExoMath(v)}function display(v){return new ExoMath(+v).get()||(typeof v==='string'&&v.toString().length>1)?'block':'none'}function randStr(length,possibleChars){var text="";var possible=possibleChars||"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(var i=0;i<length;i++){text+=possible.charAt(Math.floor(Math.random()*possible.length))}return text};function generateWidgetHtml(jsonSettings){var elNativeWidget=document.createElement('div');elNativeWidget.id=AdLoader.getRandomizedReference(widgetId,randomizedRefMap);elNativeWidget.className=AdLoader.getRandomizedReference('exo-native-widget',randomizedRefMap);elNativeWidget.appendChild(generateWidgetCss(jsonSettings.layout));if(jsonSettings.layout.mobile_responsive_type){elNativeWidget.appendChild(generateWidgetResponsiveCss(jsonSettings.layout.minimum_width_for_full_sized_layout,'#'+AdLoader.getRandomizedReference(widgetId,randomizedRefMap)))}if(jsonSettings.layout.customcss_enabled){elNativeWidget.appendChild(generateWidgetCustomCss(jsonSettings.layout.customcss))}if(isValidBrowser()){elNativeWidget.appendChild(generateWidgetSwapHrefScript())}if(jsonSettings.layout.header_enabled&&jsonSettings.layout.header_is_on_top){elNativeWidget.appendChild(generateBrandingArea(jsonSettings.layout.widgetHeaderContentHtml))}var elWidgetOuterContainer=document.createElement('div');elWidgetOuterContainer.className=AdLoader.getRandomizedReference('exo-native-widget-outer-container',randomizedRefMap);elNativeWidget.appendChild(elWidgetOuterContainer);for(var i=0;i<jsonSettings.ad_items.length;i++){elWidgetOuterContainer.appendChild(generateSingleAd(jsonSettings.ad_items[i],jsonSettings.layout.open_in_new_window))}if(jsonSettings.layout.header_enabled&&!jsonSettings.layout.header_is_on_top){elNativeWidget.appendChild(generateBrandingArea(jsonSettings.layout.widgetHeaderContentHtml))}return elNativeWidget}function generateSingleAd(adData,openInNewWindow){var elSingleAd=document.createElement('div');elSingleAd.className=AdLoader.getRandomizedReference('exo-native-widget-item-container',randomizedRefMap);var elA=document.createElement('a');elA.className=AdLoader.getRandomizedReference('exo-native-widget-item',randomizedRefMap);if(isValidBrowser()){elA.setAttribute('href','');elA.setAttribute('real-href',adData.url);elA.setAttribute('oncontextmenu','setRealHref(event)');elA.setAttribute('onmouseup','setRealHref(event)')}else{elA.href=adData.url}elA.setAttribute('rel','nofollow');if(openInNewWindow){elA.setAttribute('target','_blank')}var elImage=document.createElement('div');elImage.className=AdLoader.getRandomizedReference('exo-native-widget-item-image',randomizedRefMap);elImage.style.backgroundImage='url("'+adData.image+'")';elImage.style.backgroundPosition=adData.image_position;var elImageWrapper=document.createElement('div');elImageWrapper.className=AdLoader.getRandomizedReference('exo-native-widget-item-image-wrapper',randomizedRefMap);elImageWrapper.appendChild(elImage);var elImageRatio=document.createElement('div');elImageRatio.className=AdLoader.getRandomizedReference('exo-native-widget-item-image-ratio',randomizedRefMap);elImageWrapper.appendChild(elImageRatio);elA.appendChild(elImageWrapper);var elContent=document.createElement('div');elContent.className=AdLoader.getRandomizedReference('exo-native-widget-item-content',randomizedRefMap);var elTitle=document.createElement('div');elTitle.className=AdLoader.getRandomizedReference('exo-native-widget-item-title',randomizedRefMap);elTitle.innerHTML=adData.title;elContent.appendChild(elTitle);var elDescription=document.createElement('div');elDescription.className=AdLoader.getRandomizedReference('exo-native-widget-item-text',randomizedRefMap);elDescription.innerHTML=adData.description;elContent.appendChild(elDescription);var elBrand=document.createElement('div');elBrand.className=AdLoader.getRandomizedReference('exo-native-widget-item-brand',randomizedRefMap);elBrand.innerHTML=adData.brand;elContent.appendChild(elBrand);elA.appendChild(elContent);elSingleAd.appendChild(elA);return elSingleAd}function getCalculatedSettings(s){if(s.is_mobile){s.text_position=s.mobile_text_position;s.text_box_size=s.mobile_text_box_size;s.image_width=s.mobile_image_width;s.image_height=s.mobile_image_height;s.rows=s.mobile_rows;s.cols=s.mobile_cols}else{s.rows=s.itemsPerCol;s.cols=s.itemsPerRow}var directionMap={right:'row',bottom:'column'};var absoluteMap={right:'absolute',bottom:'initial'};var textIsOnTheRight=s.text_position==='right';var isExit=s.publisherAdType==='native-exit';var justifyMap={right:'flex-end',left:'flex-start',center:'center'};var hasText=s.is_mobile?parse(s.mobile_text_enabled).get():parse(s.text_enabled).get();s.text_position=s.text_position===''||!s.text_position?'bottom':s.text_position;s.zone_id_prefix='#'+widgetId;s.calculated_item_width=(100/s.cols)+'%';s.item_title_display=display(s.title_enabled);s.item_description_display=display(s.description_enabled);s.item_brand_display=display(s.brand_enabled);s.string_image_border_style=(s.image_border_size&&s.image_border_color)?parse('border:').concat(parse(s.image_border_size).px()).concat(' solid ').concat(s.image_border_color).concat(';').string():'';s.header_justify_content=justifyMap[s.header_text_align];s.flex_direction=directionMap[s.text_position];s.text_absolute=absoluteMap[s.text_position];s.zoom=parse(s.zoom).get()?105:100;s.mobile_rows=parse(s.mobile_rows||1).get();s.mobile_cols=parse(s.mobile_cols||2).get();s.breakpoint=parse(s.mobile_breakpoint).px();s.mobile_text_box_size=parse(s.mobile_text_box_size).px();s.header_display=display(s.branding_logo);s.spacing_h=parse(s.spacing_h).px();s.spacing_v=parse(s.spacing_v).px();s.zoomOut=parse(s.image_height).get()>parse(s.image_width).get()?'auto 100%':'100% auto';s.zoomIn=s.zoomOut.replace('100%',parse(s.zoom).perc());s.text_display=display(s.text_box_size);s.aspect_ratio=parse(s.image_height).div(s.image_width).mult(100).perc();s.widget_width=parse(s.widget_width).px();s.header_padding_position=parse(s.header_is_on_top).get()?'bottom':'top';s.text_box_size=parse(hasText?s.text_box_size:0).px();s.text_box_size_flex='initial';s.image_size_flex='initial';if(textIsOnTheRight){var textSizeMultiplier=s.is_mobile?2.5:1;var textSize=parse(s.image_width).mult(textSizeMultiplier).sum(s.item_padding).px();s.text_box_size=parse(hasText?textSize:0).px();s.widget_width_calc=parse(s.image_width).sum(s.text_box_size).mult(s.cols).px();s.widget_min_width=parse(s.text_box_size).mult(2).mult(s.cols).sub(s.spacing_v).px();s.image_wrapper_width=parse('calc(100% - ').concat(s.text_box_size).concat(')').string();s.text_max_width=parse(s.text_box_size).px();s.text_max_height=parse(s.image_height).px();s.text_width=parse(s.text_box_size).px();s.text_height='auto';s.text_padding_left=parse(s.item_padding).px();s.text_padding_top=parse(0).px();s.image_size_flex=1;s.text_box_size_flex=textSizeMultiplier;if(hasText){s.text_max_width=s.is_mobile?'initial':s.text_max_width;s.text_absolute='initial'}}else{s.text_box_size=parse(hasText?90:0).px();s.widget_width_calc=parse(s.image_width).mult(s.cols).px();s.widget_min_width='auto';s.image_wrapper_width=parse(100).perc();s.text_max_width=parse(100).perc();s.text_max_height=parse(s.text_box_size).px();s.text_width=parse(100).perc();s.text_height=parse(s.text_box_size).px();s.text_padding_left=parse(0).px();s.text_padding_top=parse(s.item_padding).px()}var spacing_h_calc=parse(s.spacing_h).mult(parse(s.cols).sub(1).get()).get();s.widget_width_calc=parse(s.widget_width_calc).sum(spacing_h_calc).px();s.widget_min_width=parse(100).sum(spacing_h_calc).px();if(parse(s.widget_width)>0){s.widget_width_calc=parse(s.widget_width).px()}s.max_items=parse(s.cols).mult(s.rows).sum(1).get();s.max_items_mobile=parse(s.mobile_rows).mult(s.mobile_cols).sum(1).get();if(s.is_mobile){s.widget_min_width=parse(50).px();s.max_items=s.max_items_mobile}if(isExit){s.widget_min_width=parse(100).perc()}if(s.header_enabled!==undefined&&parse(s.header_enabled).get()===0){s.widgetHeaderContentHtml=''}return s}function generateWidgetCss(s){var elStyle=document.createElement('style');s=getCalculatedSettings(s);var mainStyleString=''+"\n"+'{{zone_id_prefix}}.exo-native-widget , /* required space between class and comma because of regex from frontend loader*/'+"\n"+'{{zone_id_prefix}}.exo-native-widget * {'+"\n"+'    box-sizing: border-box;'+"\n"+'}'+"\n"+''+"\n"+'{{zone_id_prefix}}.exo-native-widget {'+"\n"+'    background-color: {{widget_background_color}};'+"\n"+'    overflow: hidden;'+"\n"+'    max-width: 100%;'+"\n"+'    width: {{widget_width_calc}};'+"\n"+'    min-width: {{widget_min_width}};'+"\n"+'    display: inline-flex;'+"\n"+'    flex-direction: column;'+"\n"+'}'+"\n"+''+"\n"+'{{zone_id_prefix}}.exo-native-widget .exo-native-widget-header {'+"\n"+'    width: initial !important;'+"\n"+'    float: initial !important;'+"\n"+'    white-space: nowrap;'+"\n"+'    font-family: {{font_family}};'+"\n"+'    font-size: {{header_font_size}};'+"\n"+'    color: {{header_font_color}};'+"\n"+'    display: {{header_display}};'+"\n"+'    padding-{{header_padding_position}}: 15px;'+"\n"+'    line-height: 15px;'+"\n"+'}'+"\n"+''+"\n"+'{{zone_id_prefix}}.exo-native-widget .exo-native-widget-header a {'+"\n"+'    display: flex;'+"\n"+'    justify-content: {{header_justify_content}};'+"\n"+'    color: inherit;'+"\n"+'    text-decoration: none;'+"\n"+'}'+"\n"+''+"\n"+'{{zone_id_prefix}}.exo-native-widget .exo-native-widget-header a span {'+"\n"+'    display: flex;'+"\n"+'    height: 14px;'+"\n"+'    width: 47px;'+"\n"+'    margin-left: 4px;'+"\n"+'    background: rgba(0, 0, 0, 0) url("{{branding_logo}}") repeat scroll 0 0 / 47px 14px;'+"\n"+'}'+"\n"+''+"\n"+'{{zone_id_prefix}}.exo-native-widget .exo-native-widget-header a:hover span {'+"\n"+'    background: rgba(0, 0, 0, 0) url("{{branding_logo_hover}}") repeat scroll 0 0 / 47px 14px;'+"\n"+'}'+"\n"+''+"\n"+'{{zone_id_prefix}}.exo-native-widget '+"\n"+'.exo-native-widget-outer-container {'+"\n"+'    display: flex;'+"\n"+'    flex-wrap: wrap;'+"\n"+'    height: 100%;'+"\n"+'    align-content: space-between;'+"\n"+'    margin-bottom: -{{spacing_v}};'+"\n"+'    margin-right: -{{spacing_h}};'+"\n"+'}'+"\n"+''+"\n"+'{{zone_id_prefix}}.exo-native-widget '+"\n"+'.exo-native-widget-outer-container '+"\n"+'.exo-native-widget-item-container {'+"\n"+'    overflow: hidden;'+"\n"+'    flex-basis: calc(100%/{{cols}});'+"\n"+'    position: relative;'+"\n"+'    padding-right: {{spacing_h}};'+"\n"+'    padding-bottom: {{spacing_v}};'+"\n"+'}'+"\n"+''+"\n"+'{{zone_id_prefix}}.exo-native-widget '+"\n"+'.exo-native-widget-outer-container '+"\n"+'.exo-native-widget-item-container '+"\n"+'a.exo-native-widget-item , /* required space between class and comma because of regex from frontend loader*/'+"\n"+'a.exo-native-widget-item:visited {'+"\n"+'    text-decoration: none;'+"\n"+'    font-family: {{font_family}};'+"\n"+'    font-size:  {{header_font_size}};'+"\n"+'    color: {{header_font_color}};'+"\n"+'    overflow: hidden;'+"\n"+'    display: flex;'+"\n"+'    position: relative;'+"\n"+'    flex-direction: {{flex_direction}};'+"\n"+'}'+"\n"+''+"\n"+'{{zone_id_prefix}}.exo-native-widget '+"\n"+'.exo-native-widget-outer-container '+"\n"+'.exo-native-widget-item-container '+"\n"+'a.exo-native-widget-item '+"\n"+'.exo-native-widget-item-image-wrapper {'+"\n"+'    position: relative;'+"\n"+'    float: left;'+"\n"+'    width: {{image_wrapper_width}};'+"\n"+'    min-width: auto;'+"\n"+'    z-index: 2;'+"\n"+'    flex: {{image_size_flex}};'+"\n"+'    height: 100%;'+"\n"+'}'+"\n"+''+"\n"+'{{zone_id_prefix}}.exo-native-widget '+"\n"+'.exo-native-widget-outer-container '+"\n"+'.exo-native-widget-item-container '+"\n"+'a.exo-native-widget-item '+"\n"+'.exo-native-widget-item-image-ratio {'+"\n"+'    width: 100%;'+"\n"+'    padding-top: {{aspect_ratio}};'+"\n"+'    z-index: 1;'+"\n"+'}'+"\n"+''+"\n"+'{{zone_id_prefix}}.exo-native-widget '+"\n"+'.exo-native-widget-outer-container '+"\n"+'.exo-native-widget-item-container '+"\n"+'a.exo-native-widget-item '+"\n"+'.exo-native-widget-item-image {'+"\n"+'    background-repeat: no-repeat;'+"\n"+'    background-size: {{zoomOut}};'+"\n"+'    {{string_image_border_style}}'+"\n"+'    position: absolute;'+"\n"+'    top: 0;'+"\n"+'    left: 0;'+"\n"+'    width: 100%;'+"\n"+'    height: 100%;'+"\n"+'    transition: background-size 0.3s;'+"\n"+'}'+"\n"+''+"\n"+'{{zone_id_prefix}}.exo-native-widget '+"\n"+'.exo-native-widget-outer-container '+"\n"+'.exo-native-widget-item-container '+"\n"+'a.exo-native-widget-item '+"\n"+'.exo-native-widget-item-image:hover {'+"\n"+'    background-size: {{zoomIn}};'+"\n"+'}'+"\n"+''+"\n"+'{{zone_id_prefix}}.exo-native-widget '+"\n"+'.exo-native-widget-outer-container '+"\n"+'.exo-native-widget-item-container '+"\n"+'a.exo-native-widget-item '+"\n"+'.exo-native-widget-item-content {'+"\n"+'    max-width: {{text_max_width}};'+"\n"+'    max-height: {{text_max_height}};'+"\n"+'    overflow: hidden;'+"\n"+'    position: {{text_absolute}};'+"\n"+'    right: 0;'+"\n"+'    top: 0;'+"\n"+'    width: {{text_width}};'+"\n"+'    height: {{text_height}};'+"\n"+'    padding-left: {{text_padding_left}};'+"\n"+'    padding-right: 0;'+"\n"+'    padding-top: {{text_padding_top}};'+"\n"+'    padding-bottom: 0;'+"\n"+'    display: {{text_display}};'+"\n"+'    text-align: {{text_align}};'+"\n"+'    flex: {{text_box_size_flex}};'+"\n"+'    position: relative;'+"\n"+'}'+"\n"+''+"\n"+'{{zone_id_prefix}}.exo-native-widget '+"\n"+'.exo-native-widget-outer-container '+"\n"+'.exo-native-widget-item-container '+"\n"+'a.exo-native-widget-item '+"\n"+'.exo-native-widget-item-content '+"\n"+'.exo-native-widget-item-content-box {'+"\n"+'    position: absolute;'+"\n"+'    width: 100%;'+"\n"+'}'+"\n"+''+"\n"+'{{zone_id_prefix}}.exo-native-widget '+"\n"+'.exo-native-widget-outer-container '+"\n"+'.exo-native-widget-item-container '+"\n"+'a.exo-native-widget-item '+"\n"+'.exo-native-widget-item-content '+"\n"+'.exo-native-widget-item-title {'+"\n"+'    font-family: {{font_family}};'+"\n"+'    font-size: {{title_font_size}};'+"\n"+'    color: {{title_font_color}};'+"\n"+'    font-weight: {{title_font_weight}};'+"\n"+'    text-decoration: {{title_decoration}};'+"\n"+'    display: {{item_title_display}};'+"\n"+'    transition: color 0.16s;'+"\n"+'}'+"\n"+''+"\n"+'{{zone_id_prefix}}.exo-native-widget '+"\n"+'.exo-native-widget-outer-container '+"\n"+'.exo-native-widget-item-container '+"\n"+'a.exo-native-widget-item '+"\n"+'.exo-native-widget-item-content '+"\n"+'.exo-native-widget-item-text { '+"\n"+'    font-family: {{font_family}};'+"\n"+'    font-size: {{description_font_size}};'+"\n"+'    color: {{description_font_color}};'+"\n"+'    font-weight: {{description_font_weight}};'+"\n"+'    text-decoration: {{description_decoration}};'+"\n"+'    display: {{item_description_display}};'+"\n"+'    transition: color 0.16s;'+"\n"+'}'+"\n"+''+"\n"+'{{zone_id_prefix}}.exo-native-widget '+"\n"+'.exo-native-widget-outer-container '+"\n"+'.exo-native-widget-item-container '+"\n"+'a.exo-native-widget-item '+"\n"+'.exo-native-widget-item-content '+"\n"+'.exo-native-widget-item-brand { '+"\n"+'    font-family: {{font_family}};'+"\n"+'    font-size: {{brand_font_size}};'+"\n"+'    color: {{brand_font_color}};'+"\n"+'    font-weight: {{brand_font_weight}};'+"\n"+'    text-decoration: {{brand_decoration}};'+"\n"+'    display: {{item_brand_display}};'+"\n"+'}'+"\n"+''+"\n"+''+"\n"+'/* Hover section below: */'+"\n"+''+"\n"+'{{zone_id_prefix}}.exo-native-widget '+"\n"+'.exo-native-widget-outer-container '+"\n"+'.exo-native-widget-item-container '+"\n"+'a.exo-native-widget-item '+"\n"+'.exo-native-widget-item-content '+"\n"+'.exo-native-widget-item-title:hover {'+"\n"+'    color: {{title_hover_color}};'+"\n"+'    font-weight: {{title_hover_font_weight}};'+"\n"+'    text-decoration: {{title_hover_decoration}};'+"\n"+'}'+"\n"+''+"\n"+'{{zone_id_prefix}}.exo-native-widget '+"\n"+'.exo-native-widget-outer-container '+"\n"+'.exo-native-widget-item-container '+"\n"+'a.exo-native-widget-item '+"\n"+'.exo-native-widget-item-content '+"\n"+'.exo-native-widget-item-text:hover { '+"\n"+'    color: {{description_hover_color}};'+"\n"+'    font-weight: {{description_hover_font_weight}};'+"\n"+'    text-decoration: {{description_hover_decoration}};'+"\n"+'}'+"\n"+''+"\n"+'@media all and (max-width: 700px) {'+"\n"+'    {{zone_id_prefix}}.exo-native-widget '+"\n"+'    .exo-native-widget-outer-container '+"\n"+'    .exo-native-widget-item-container:nth-child(n+{{max_items}}) { '+"\n"+'        display: none;'+"\n"+'    }'+"\n"+'    '+"\n"+'    {{zone_id_prefix}}.exo-native-widget '+"\n"+'    .exo-native-widget-outer-container '+"\n"+'    .exo-native-widget-item-container { '+"\n"+'        flex-basis: calc(100%/{{mobile_limit_per_row}});'+"\n"+'    }'+"\n"+'}'+"\n"+'';var regExTemp=null;for(var placeholder in s){if(s.hasOwnProperty(placeholder)){regExTemp=new RegExp('{{'+placeholder+'}}','g');mainStyleString=mainStyleString.replace(regExTemp,s[placeholder])}}mainStyleString=AdLoader.scrambleStyleString(mainStyleString,randomizedRefMap,pattern);elStyle.innerHTML=mainStyleString;return elStyle}function generateWidgetResponsiveCss(minimumWidthFullSize,zoneIdPrefix){var elStyle=document.createElement('style');var mainStyleString=''+"\n"+'@media all and (max-width: '+minimumWidthFullSize+') {'+"\n"+'    '+zoneIdPrefix+'.exo-native-widget {'+"\n"+'        width: 100% !important;'+"\n"+'        height: auto !important;'+"\n"+'    }'+"\n"+'    '+zoneIdPrefix+'.exo-native-widget .exo-native-widget-item-container {'+"\n"+'        clear: both;'+"\n"+'        width: 100% !important;'+"\n"+'        max-width: 100% !important;'+"\n"+'        margin-left: 0 !important;'+"\n"+'    }'+"\n"+'    '+zoneIdPrefix+'.exo-native-widget .exo-native-widget-item-outer-container {'+"\n"+'        width: 100% !important;'+"\n"+'    }'+"\n"+'    '+zoneIdPrefix+'.exo-native-widget .exo-native-widget-item .exo-native-widget-item-image {'+"\n"+'        width: 100% !important;'+"\n"+'        max-width: 100% !important;'+"\n"+'        margin: auto !important'+"\n"+'    }'+"\n"+'    '+zoneIdPrefix+'.exo-native-widget .exo-native-widget-item-container .exo-native-widget-item .exo-native-widget-item-content {'+"\n"+'        max-width: 100% !important;'+"\n"+'    }'+"\n"+'    '+zoneIdPrefix+'.exo-native-widget .exo-native-widget-item-container .exo-native-widget-item {'+"\n"+'        margin: 0 auto !important;'+"\n"+'    }'+"\n"+'}';mainStyleString=AdLoader.scrambleStyleString(mainStyleString,randomizedRefMap,pattern);elStyle.innerHTML=mainStyleString;return elStyle}function generateWidgetCustomCss(customcss){var elStyle=document.createElement('style');var css=customcss.replace(/ *(:|;|{|}) */g,"$1").replace(/\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*\/+/g,'').split('}').filter(function(el){return el.trim().length>0}).map(function(el){return'#'+widgetId+'.exo-native-widget '+el}).join('} ')+'}';css=AdLoader.scrambleStyleString(css,randomizedRefMap,pattern);elStyle.innerHTML=css;return elStyle}function isValidBrowser(){if(window.attachEvent&&!window.addEventListener){return false}else{return true}}function generateWidgetSwapHrefScript(){var elScript=document.createElement('script');elScript.setAttribute('type','application/javascript');scriptString=''+"\n"+'function setRealHref(e) {'+"\n"+'var caller = e.currentTarget || e.srcElement; '+"\n"+'caller.setAttribute("href", caller.getAttribute("real-href"));'+"\n"+'}';elScript.innerHTML=scriptString;return elScript}function generateBrandingArea(widgetHeaderContentHtml){var elBranding=document.createElement('div');elBranding.className=AdLoader.getRandomizedReference('exo-native-widget-header',randomizedRefMap);elBranding.innerHTML=widgetHeaderContentHtml;return elBranding}}())})({"syndication":"syndication.realsrv.com","network":"exoclick"})